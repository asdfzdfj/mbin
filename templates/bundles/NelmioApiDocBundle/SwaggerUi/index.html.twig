{% extends '@!NelmioApiDoc/SwaggerUi/index.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <style>
    header::before {
        display: none;
    }
    </style>
    {{ encore_entry_link_tags('app') }}
    <style>
    .swagger-ui code {
        color: inherit;
        display: inherit;
        background: inherit;
        padding: inherit;
        overflow: inherit;
    }
    </style>
{% endblock %}

{% block header_block %}
    <header id="header" class="header">
        <div class="kbin-container">
            <nav class="head-nav"  data-action="click->kbin#toggleNav">
                <div class="brand">
                    <div><i class="fa-solid fa-bars"></i></div>
                    <a href="{{ app.user ? path(app.user.homepage) : '/' }}">
                        {% if kbin_header_logo() %}
                            <img id="logo" src="{{ asset('mbin_logo.svg') }}" alt="{{ kbin_title() }}">
                        {% else %}
                            <span>{{ kbin_title() }}</span>
                        {% endif %}
                    </a>
                </div>
            </nav>
        </div>
    </header>
{% endblock %}

{% block swagger_initialization %}
    <script type="text/javascript" nonce="{{ csp_nonce('script') }}">
        (function () {
            var swaggerUI = {{ swagger_ui_config|json_encode(65)|raw }};
            window.onload = loadSwaggerUI(swaggerUI);
        })();
    </script>
{% endblock swagger_initialization %}
